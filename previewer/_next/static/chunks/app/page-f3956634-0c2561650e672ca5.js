(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3665],{4239:(e,n,t)=>{Promise.resolve().then(t.bind(t,32798))},71271:(e,n,t)=>{"use strict";t.d(n,{$:()=>l});var r=t(95155),a=t(12317),s=t(31027),o=t(12115),i=t(29602);let c=(0,s.F)("inline-flex items-center justify-center whitespace-nowrap rounded-lg text-sm font-medium transition-colors outline-offset-2 focus-visible:outline focus-visible:outline-2 focus-visible:outline-ring/70 disabled:opacity-50 disabled:pointer-events-none disabled:border-primary/75 disabled:shadow-[inset_0_0.5px_0.5px_rgba(255,255,255,0.15)] [&_svg]:pointer-events-none [&_svg]:shrink-0",{variants:{variant:{default:"relative cursor-pointer space-x-2 font-regular ease-out duration-200 outline-0 focus-visible:outline-4 focus-visible:outline-offset-1 border bg-gradient-to-b from-[hsl(var(--primary-gradient-start))] to-[hsl(var(--primary-gradient-end))] hover:opacity-90 text-primary-foreground border-[hsl(var(--primary-gradient-start))] focus-visible:outline-[hsl(var(--primary-gradient-start))] data-[state=open]:opacity-90 data-[state=open]:outline-[hsl(var(--primary-gradient-start))]",destructive:"bg-destructive text-destructive-foreground shadow-sm shadow-black/5 hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm shadow-black/5 hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm shadow-black/5 hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{sm:"h-8 rounded-lg px-3",default:"h-8 rounded-lg px-3",lg:"h-10 rounded-lg px-8",icon:"h-8 w-8"}},defaultVariants:{variant:"default",size:"default"}}),l=o.forwardRef((e,n)=>{let{className:t,variant:s,size:o,asChild:l=!1,...d}=e,m=l?a.DX:"button";return(0,r.jsx)(m,{className:(0,i.cn)(c({variant:s,size:o,className:t})),ref:n,...d})});l.displayName="Button"},35007:(e,n,t)=>{"use strict";t.d(n,{BT:()=>l,Wu:()=>d,ZB:()=>c,Zp:()=>o,aR:()=>i,wL:()=>m});var r=t(95155),a=t(12115),s=t(29602);let o=a.forwardRef((e,n)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:n,className:(0,s.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...a})});o.displayName="Card";let i=a.forwardRef((e,n)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:n,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",t),...a})});i.displayName="CardHeader";let c=a.forwardRef((e,n)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:n,className:(0,s.cn)("text-2xl font-semibold leading-none tracking-tight",t),...a})});c.displayName="CardTitle";let l=a.forwardRef((e,n)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:n,className:(0,s.cn)("text-sm text-muted-foreground",t),...a})});l.displayName="CardDescription";let d=a.forwardRef((e,n)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:n,className:(0,s.cn)("p-6 pt-0",t),...a})});d.displayName="CardContent";let m=a.forwardRef((e,n)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:n,className:(0,s.cn)("flex items-center p-6 pt-0",t),...a})});m.displayName="CardFooter"},32798:(e,n,t)=>{"use strict";t.d(n,{default:()=>z});var r=t(95155),a=t(12115),s=t(71271),o=t(35007),i=t(50314),c=t(44504),l=t(46212);let d=async e=>{let{code:n,demoCode:t,baseTailwindConfig:r,baseGlobalCss:a,dependencies:s,customTailwindConfig:o,customGlobalCss:i}=e,c=await fetch("https://21.up.railway.app/compile-css",{method:"POST",body:JSON.stringify({code:n,demoCode:t,baseTailwindConfig:r,baseGlobalCss:a,dependencies:s,customTailwindConfig:o,customGlobalCss:i})});return(await c.json()).css},m=Object.keys(l).reduce((e,n)=>(e["/components/ui/".concat(n,".tsx")]=l[n],e),{}),u='module.exports = {\n    darkMode: ["class"],\n    content: ["**/*.{ts,tsx}"],\n    theme: {\n      extend: {\n        colors: {\n          border: "hsl(var(--border))",\n          input: "hsl(var(--input))",\n          ring: "hsl(var(--ring))",\n          background: "hsl(var(--background))",\n          foreground: "hsl(var(--foreground))",\n          primary: {\n            DEFAULT: "hsl(var(--primary))",\n            foreground: "hsl(var(--primary-foreground))"\n          },\n          secondary: {\n            DEFAULT: "hsl(var(--secondary))",\n            foreground: "hsl(var(--secondary-foreground))",\n          },\n          destructive: {\n            DEFAULT: "hsl(var(--destructive))",\n            foreground: "hsl(var(--destructive-foreground))",\n          },\n          muted: {\n            DEFAULT: "hsl(var(--muted))",\n            foreground: "hsl(var(--muted-foreground))"\n          },\n          accent: {\n            DEFAULT: "hsl(var(--accent))",\n            foreground: "hsl(var(--accent-foreground))"\n          },\n          popover: {\n            DEFAULT: "hsl(var(--popover))",\n            foreground: "hsl(var(--popover-foreground))"\n          },\n          card: {\n            DEFAULT: "hsl(var(--card))",\n            foreground: "hsl(var(--card-foreground))"\n          }\n        },\n        borderRadius: {\n          lg: "var(--radius)",\n          md: "calc(var(--radius) - 2px)",\n          sm: "calc(var(--radius) - 4px)"\n        }\n      }\n    },\n    plugins: []\n  }',p="\n  @tailwind base;\n  @tailwind components;\n  @tailwind utilities;\n  \n  @keyframes ripple {\n    0% {\n      opacity: 0;\n      background-size: 0 0;\n      transform: scale(0.1);\n      -webkit-mask-image: radial-gradient(\n        circle at center,\n        black 0%,\n        black 0%,\n        transparent 2%,\n        transparent 100%\n      );\n      mask-image: radial-gradient(\n        circle at center,\n        black 0%,\n        black 0%,\n        transparent 2%,\n        transparent 100%\n      );\n    }\n    \n    10% {\n      opacity: 1;\n      background-size: 16px 16px;\n      transform: scale(0.2);\n      -webkit-mask-image: radial-gradient(\n        circle at center,\n        black 0%,\n        black 8%,\n        transparent 12%,\n        transparent 100%\n      );\n      mask-image: radial-gradient(\n        circle at center,\n        black 0%,\n        black 8%,\n        transparent 12%,\n        transparent 100%\n      );\n    }\n    \n    20% {\n      transform: scale(0.3);\n      -webkit-mask-image: radial-gradient(\n        circle at center,\n        black 0%,\n        black 18%,\n        transparent 22%,\n        transparent 100%\n      );\n      mask-image: radial-gradient(\n        circle at center,\n        black 0%,\n        black 18%,\n        transparent 22%,\n        transparent 100%\n      );\n    }\n    \n    30% {\n      transform: scale(0.4);\n      -webkit-mask-image: radial-gradient(\n        circle at center,\n        black 0%,\n        black 28%,\n        transparent 32%,\n        transparent 100%\n      );\n      mask-image: radial-gradient(\n        circle at center,\n        black 0%,\n        black 28%,\n        transparent 32%,\n        transparent 100%\n      );\n    }\n    \n    40% {\n      transform: scale(0.5);\n      -webkit-mask-image: radial-gradient(\n        circle at center,\n        transparent 0%,\n        black 38%,\n        transparent 42%,\n        transparent 100%\n      );\n      mask-image: radial-gradient(\n        circle at center,\n        transparent 0%,\n        black 38%,\n        transparent 42%,\n        transparent 100%\n      );\n    }\n    \n    50% {\n      transform: scale(0.6);\n      -webkit-mask-image: radial-gradient(\n        circle at center,\n        transparent 0%,\n        black 48%,\n        transparent 52%,\n        transparent 100%\n      );\n      mask-image: radial-gradient(\n        circle at center,\n        transparent 0%,\n        black 48%,\n        transparent 52%,\n        transparent 100%\n      );\n    }\n    \n    60% {\n      transform: scale(0.7);\n      -webkit-mask-image: radial-gradient(\n        circle at center,\n        transparent 0%,\n        black 58%,\n        transparent 62%,\n        transparent 100%\n      );\n      mask-image: radial-gradient(\n        circle at center,\n        transparent 0%,\n        black 58%,\n        transparent 62%,\n        transparent 100%\n      );\n    }\n    \n    70% {\n      transform: scale(0.8);\n      -webkit-mask-image: radial-gradient(\n        circle at center,\n        transparent 0%,\n        black 68%,\n        transparent 72%,\n        transparent 100%\n      );\n      mask-image: radial-gradient(\n        circle at center,\n        transparent 0%,\n        black 68%,\n        transparent 72%,\n        transparent 100%\n      );\n    }\n    \n    80% {\n      transform: scale(0.9);\n      -webkit-mask-image: radial-gradient(\n        circle at center,\n        transparent 0%,\n        black 78%,\n        transparent 82%,\n        transparent 100%\n      );\n      mask-image: radial-gradient(\n        circle at center,\n        transparent 0%,\n        black 78%,\n        transparent 82%,\n        transparent 100%\n      );\n    }\n    \n    90% {\n      transform: scale(0.95);\n      -webkit-mask-image: radial-gradient(\n        circle at center,\n        transparent 0%,\n        black 88%,\n        transparent 92%,\n        transparent 100%\n      );\n      mask-image: radial-gradient(\n        circle at center,\n        transparent 0%,\n        black 88%,\n        transparent 92%,\n        transparent 100%\n      );\n    }\n  \n    100% {\n      opacity: 0;\n      background-size: 0 0;\n      transform: scale(1);\n      -webkit-mask-image: radial-gradient(\n        circle at center,\n        transparent 0%,\n        transparent 100%\n      );\n      mask-image: radial-gradient(\n        circle at center,\n        transparent 0%,\n        transparent 100%\n      );\n    }\n  }\n  \n  @keyframes ripple-dark {\n    0% {\n      background-image: radial-gradient(\n        circle at center,\n        rgba(255, 255, 255, 0.13) 0%,\n        rgba(255, 255, 255, 0) 5%,\n        rgba(255, 255, 255, 0) 100%\n      );\n    }\n    \n    25% {\n      background-image: radial-gradient(\n        circle at center,\n        rgba(255, 255, 255, 0.13) 0%,\n        rgba(255, 255, 255, 0.13) 15%,\n        rgba(255, 255, 255, 0) 25%,\n        rgba(255, 255, 255, 0) 100%\n      );\n    }\n    \n    50% {\n      background-image: radial-gradient(\n        circle at center,\n        rgba(255, 255, 255, 0) 0%,\n        rgba(255, 255, 255, 0.13) 35%,\n        rgba(255, 255, 255, 0.13) 45%,\n        rgba(255, 255, 255, 0) 55%,\n        rgba(255, 255, 255, 0) 100%\n      );\n    }\n    \n    75% {\n      background-image: radial-gradient(\n        circle at center,\n        rgba(255, 255, 255, 0) 0%,\n        rgba(255, 255, 255, 0) 45%,\n        rgba(255, 255, 255, 0.13) 75%,\n        rgba(255, 255, 255, 0.13) 85%,\n        rgba(255, 255, 255, 0) 95%,\n        rgba(255, 255, 255, 0) 100%\n      );\n    }\n  \n    100% {\n      background-image: radial-gradient(\n        circle at center,\n        rgba(255, 255, 255, 0) 0%,\n        rgba(255, 255, 255, 0) 100%\n      );\n    }\n  }\n  \n  .lab-bg {\n    --mask-offset: 100px;\n    -webkit-mask: linear-gradient(to bottom,transparent,#fff var(--mask-offset) calc(100% - var(--mask-offset)),transparent),linear-gradient(to right,transparent,#fff var(--mask-offset) calc(100% - var(--mask-offset)),transparent);\n    mask: linear-gradient(to bottom,transparent,#fff var(--mask-offset) calc(100% - var(--mask-offset)),transparent),linear-gradient(to right,transparent,#fff var(--mask-offset) calc(100% - var(--mask-offset)),transparent);\n    -webkit-mask-composite: source-in,xor;\n    mask-composite: intersect;\n    transform: translateZ(0);\n    backface-visibility: hidden;\n    perspective: 1000;\n  }\n  \n  .lab-bg::before {\n    content: '';\n    position: absolute;\n    inset: 0;\n    background-image: radial-gradient(#00000021 1px, transparent 1px);\n    -webkit-mask-image: radial-gradient(circle at center, transparent 0%, transparent 100%);\n    mask-image: radial-gradient(circle at center, transparent 0%, transparent 100%);\n    animation: ripple 1.5s cubic-bezier(0.4, 0, 0.2, 1) forwards;\n    will-change: transform, mask-image, -webkit-mask-image, background-size, opacity;\n    transform: translateZ(0);\n    backface-visibility: hidden;\n    perspective: 1000;\n  }\n  \n  .dark .lab-bg::before {\n    background-image: radial-gradient(#ffffff22 1px, transparent 1px);\n  }\n  \n  html,\n  body {\n    max-width: 100vw;\n  }\n  \n  * {\n    box-sizing: border-box;\n    padding: 0;\n    margin: 0;\n  }\n  \n  a {\n    color: inherit;\n    text-decoration: none;\n  }\n  \n  @layer base {\n    :root {\n      --background: 0 0% 100%;\n      --foreground: 240 10% 3.9%;\n      --card: 0 0% 100%;\n      --card-foreground: 240 10% 3.9%;\n      --popover: 0 0% 100%;\n      --popover-foreground: 240 10% 3.9%;\n      --primary: 240 5.9% 10%;\n      --primary-foreground: 0 0% 98%;\n      --secondary: 240 4.8% 95.9%;\n      --secondary-foreground: 240 5.9% 10%;\n      --muted: 240 4.8% 95.9%;\n      --muted-foreground: 240 3.8% 46.1%;\n      --accent: 240 4.8% 95.9%;\n      --accent-foreground: 240 5.9% 10%;\n      --destructive: 0 84.2% 60.2%;\n      --destructive-foreground: 0 0% 100%;\n      --border: 240 5.9% 90%;\n      --input: 240 4.9% 83.9%;\n      --ring: 240 5% 64.9%;\n      --radius: 0.5rem;\n    }\n   \n    .dark {\n      --background: 240 10% 3.9%;\n      --foreground: 240 4.8% 95.9%;\n      --card: 240 10% 3.9%;\n      --card-foreground: 0 0% 98%;\n      --popover: 240 10% 3.9%;\n      --popover-foreground: 0 0% 98%;\n      --primary: 0 0% 98%;\n      --primary-foreground: 240 5.9% 10%;\n      --secondary: 240 3.7% 15.9%;\n      --secondary-foreground: 0 0% 98%;\n      --muted: 240 5.9% 10%;\n      --muted-foreground: 240 4.4% 58%;\n      --accent: 240 5.9% 10%;\n      --accent-foreground: 0 0% 98%;\n      --destructive: 0 84.2% 60.2%;\n      --destructive-foreground: 0 0% 100%;\n      --border: 240 3.7% 15.9%;\n      --input: 240 3.7% 15.9%;\n      --ring: 240 3.8% 46.1%;\n    }\n  }\n  \n  @layer base {\n    * {\n      @apply border-border;\n    }\n    body {\n      @apply font-sans antialiased bg-background text-foreground;\n    }\n  }\n  ";async function f(e){let{files:n,theme:t,customTailwindConfig:r,customGlobalCss:a,dependencies:s}=e,o=await d({code:n["/demo.tsx"],demoCode:Object.values(m).join("\n"),baseTailwindConfig:u,baseGlobalCss:p,customTailwindConfig:r,customGlobalCss:a});return{...n,"/App.tsx":"\n  import React from 'react';\n  import { ThemeProvider } from './next-themes';\n  import { RouterProvider } from 'next/router';\n  import './styles.css';\n  import Demo from './demo';\n  \n  export default function App() {\n  \n    return (\n      <ThemeProvider attribute=\"class\" defaultTheme=\"".concat(t,'" enableSystem={false}>\n        <RouterProvider>\n          <div className="relative flex items-center justify-center h-screen w-full m-auto p-16 bg-background text-foreground">\n            <div className="absolute lab-bg inset-0 size-full">\n              <div className="absolute inset-0 bg-[radial-gradient(#00000021_1px,transparent_1px)] dark:bg-[radial-gradient(#ffffff22_1px,transparent_1px)]"></div>\n            </div>\n            <div className="flex w-full justify-center relative">\n              <Demo />\n            </div>\n          </div>\n        </RouterProvider>\n      </ThemeProvider>\n    );\n  }\n  '),"/next-themes.tsx":"\n  import React, { createContext, useContext, useState, useEffect } from 'react';\n  \n  const ThemeContext = createContext({\n    theme: 'light',\n    setTheme: (theme: string) => {},\n    resolvedTheme: 'light',\n  });\n  \n  export const useTheme = () => useContext(ThemeContext);\n  \n  export const ThemeProvider = ({ children, defaultTheme = 'light', enableSystem = false }) => {\n    const [theme, setTheme] = useState(defaultTheme);\n  \n    useEffect(() => {\n      const root = window.document.documentElement;\n      root.classList.remove('light', 'dark');\n      root.classList.add(theme);\n    }, [theme]);\n  \n    const resolvedTheme = theme === 'system' ? 'light' : theme;\n  \n    return (\n      <ThemeContext.Provider value={{ theme, setTheme, resolvedTheme }}>\n        {children}\n      </ThemeContext.Provider>\n    );\n  };\n  ","/hooks/use-media-query.tsx":'\n  import * as React from "react"\n  \n  export function useMediaQuery(query: string) {\n    const [value, setValue] = React.useState(false)\n  \n    React.useEffect(() => {\n      function onChange(event: MediaQueryListEvent) {\n        setValue(event.matches)\n      }\n  \n      const result = matchMedia(query)\n      result.addEventListener("change", onChange)\n      setValue(result.matches)\n  \n      return () => result.removeEventListener("change", onChange)\n    }, [query])\n  \n    return value\n  }\n  ',"/lib/utils.ts":'\n  import { type ClassValue, clsx } from "clsx"\n  import { twMerge } from "tailwind-merge"\n  \n  export function cn(...inputs: ClassValue[]) {\n    return twMerge(clsx(inputs))\n  }\n  ',"/node_modules/next/package.json":'     {\n       "name": "next",\n       "version": "latest",\n       "main": "index.js"\n     }\n     ',"/node_modules/next/index.js":"\n        export { default as Image } from './image';\n        export { default as Link } from './link';\n        export { useRouter, RouterProvider, usePathname } from './router';\n        export { default as Head } from './head';\n        export { default as Script } from './script';\n        export { default as dynamic } from './dynamic';\n        export { Roboto } from './font';\n        export { default as Document } from './document';\n      ","/node_modules/next/image.js":"\n        import React from 'react';\n        \n        const Image = ({ src, alt, width, height, ...props }) => (\n          <img src={src} alt={alt} width={width} height={height} {...props} />\n        );\n        \n        export default Image;\n      ","/node_modules/next/link.js":"\n        import React from 'react';\n        \n        const Link = ({ href, children, ...props }) => (\n          <a href={href} {...props}>{children}</a>\n        );\n        \n        export default Link;\n      ","/node_modules/next/head.js":"\n        import React from 'react';\n        \n        const Head = ({ children }) => {\n          return <div>{children}</div>;\n        };\n        \n        export default Head;\n      ","/node_modules/next/script.js":"\n        import React from 'react';\n        \n        const Script = ({ src, strategy, children, ...props }) => {\n          return <script src={src} {...props}>{children}<\/script>;\n        };\n        \n        export default Script;\n      ","/node_modules/next/router.js":"\n        import React, { createContext, useContext } from 'react';\n        \n        const RouterContext = createContext({\n          pathname: '/',\n          push: (url) => {},\n          replace: (url) => {},\n        });\n        \n        export const useRouter = () => useContext(RouterContext);\n        \n        export const usePathname = () => {\n          const router = useRouter();\n          return router.pathname;\n        };\n        \n        export const RouterProvider = ({ children }) => {\n          const router = {\n            pathname: '/',\n            push: (url) => {\n              console.log(`Navigating to ${url}`);\n            },\n            replace: (url) => {\n              console.log(`Replacing with ${url}`);\n            },\n          };\n          \n          return (\n            <RouterContext.Provider value={router}>\n              {children}\n            </RouterContext.Provider>\n          );\n        };\n      ","/node_modules/next/dynamic.js":"\n        import React, { Suspense } from 'react';\n        \n        const dynamic = (importFunc, options = {}) => {\n          const { ssr = true, loading: LoadingComponent = () => <div>Loading...</div> } = options;\n          \n          const LazyComponent = React.lazy(importFunc);\n          \n          return (props) => (\n            <Suspense fallback={<LoadingComponent />}>\n              <LazyComponent {...props} />\n            </Suspense>\n          );\n        };\n        \n        export default dynamic;\n      ","/node_modules/next/font.js":"\n        export const Roboto = {\n          className: 'font-roboto',\n        };\n      ","/node_modules/next/document.js":"\n        import React from 'react';\n        \n        const Html = ({ children, ...props }) => <html {...props}>{children}</html>;\n        const Head = ({ children }) => <head>{children}</head>;\n        const Main = () => <div id=\"__next\"></div>;\n        const NextScript = () => <script />;\n        \n        export default function Document() {\n          return (\n            <Html>\n              <Head />\n              <body>\n                <Main />\n                <NextScript />\n              </body>\n            </Html>\n          );\n        }\n      ","/node_modules/next/navigation.js":"\n        export { usePathname } from './router';\n      ","/globals.css":null!=a?a:p,"/styles.css":o,"/tailwind.config.js":null!=r?r:u,"/postcss.config.js":"module.exports = {\n        plugins: {\n          tailwindcss: {},\n          autoprefixer: {},\n        },\n    }",...m,"/tsconfig.json":JSON.stringify({compilerOptions:{jsx:"react-jsx",esModuleInterop:!0,baseUrl:".",paths:{"@/*":["./*"]}}},null,2)}}let g={react:"^18.0.0","react-dom":"^18.0.0","tailwind-merge":"latest",clsx:"latest",tailwindcss:"^3.4.11","lucide-react":"latest",postcss:"^8.4.31",autoprefixer:"^10.4.16"};var h=t(7583),x=t(22610),b=t(48415);function v(e){let n={};try{let t=(0,h.parse)(e,{sourceType:"module",plugins:["typescript","jsx","decorators-legacy","classProperties","objectRestSpread","dynamicImport"],errorRecovery:!0,tokens:!0}),r=Object.keys(g),a=e=>!r.includes(e)&&!e.startsWith("next");(0,x.default)(t,{ImportDeclaration(e){let{node:t}=e,r=t.source.value;if("string"==typeof r&&!r.startsWith(".")&&!r.startsWith("/")&&!r.startsWith("@/")){let e=r;"motion/react"===e&&(e="motion"),a(e)&&(n[e]="latest")}},ImportNamespaceSpecifier(e){let t=e.findParent(e=>e.isImportDeclaration());if(t&&b.isImportDeclaration(t.node)){let e=t.node.source.value;if("string"==typeof e&&!e.startsWith(".")&&!e.startsWith("/")&&!e.startsWith("@/")){let t=e;"motion/react"===t&&(t="motion"),a(t)&&(n[t]="latest")}}}})}catch(e){console.error("Error parsing dependencies:",e)}return n}var k=t(32831),y=t(67113);let w=async e=>{try{let n=await fetch("/callback/".concat(e),{method:"GET",headers:{"Content-Type":"application/json"}});if(!n.ok)throw Error("HTTP error! status: ".concat(n.status));return(await n.json()).data}catch(e){throw console.error("Error fetching callback data:",e),e}},j=async(e,n)=>{try{let t=await fetch("/callback/".concat(e),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(!t.ok)throw Error("HTTP error! status: ".concat(t.status));return await t.json()}catch(e){throw console.error("Error posting callback:",e),e}},N=async(e,n)=>{try{let t=await fetch("/fix-code-error/".concat(e),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(!t.ok){let e=await t.json();throw Error(e.message||"HTTP error! status: ".concat(t.status))}return(await t.json()).data}catch(e){throw console.error("Error fixing code error:",e),e}};var C=t(29602);let T=e=>{let{size:n="md",className:t}=e;return(0,r.jsx)("div",{className:"flex items-center justify-center",children:(0,r.jsx)("div",{className:(0,C.cn)("animate-spin rounded-full border-t-transparent",{sm:"h-4 w-4 border-2",md:"h-8 w-8 border-3",lg:"h-12 w-12 border-4"}[n],"border-primary",t)})})},R=e=>{let{text:n,spinnerSize:t="md",className:a,fullscreen:s=!1}=e;return(0,r.jsxs)("div",{className:(0,C.cn)("flex flex-col items-center justify-center gap-3",s&&"fixed inset-0 z-50 bg-background/80 backdrop-blur-sm",a),children:[(0,r.jsx)(T,{size:t}),n&&(0,r.jsx)("p",{className:"text-sm text-muted-foreground animate-pulse",children:n})]})};function E(e){let{isFullscreen:n,code:t,callbackId:s}=e,{sandpack:o}=(0,k.ny)(),{files:i,bundlerState:c,editorState:l,error:d,status:m,activeFile:u}=o,[p,f]=(0,a.useState)(!1),g=(0,a.useRef)(0);return console.log("Bundler state:",c),console.log("Editor state:",l),console.log("Error:",d),(0,a.useEffect)(()=>{(null==d?void 0:d.message)&&t&&s&&!p&&g.current<3&&(console.log("Sandpack Error Detected:",d.message),f(!0),g.current+=1,(async()=>{try{console.log("Attempting to fix code... (Attempt ".concat(g.current,"/3)"));let e=await N(s,{code:t,errorMessage:d.message});(null==e?void 0:e.fixedCode)?(console.log("Fixed code received:",e.fixedCode),o.updateFile("/demo.tsx",(0,C.Q)(e.fixedCode))):console.log("Fix attempt did not return fixed code.")}catch(e){console.error("Error calling fixCodeError API:",e)}finally{setTimeout(()=>f(!1),2e3)}})())},[d,t,s,o,p]),(0,r.jsxs)(k.am,{className:"h-full transition-all duration-300 ".concat("scale-100"),children:[p&&(0,r.jsx)(R,{text:"Attempting to fix error... (Attempt ".concat(g.current,"/3)"),spinnerSize:"md",fullscreen:!0,className:"z-10"}),(0,r.jsx)(k.G5,{})]})}function S(e){let{code:n,isFullscreen:t,callbackId:s}=e,{resolvedTheme:o}=(0,y.D)(),i=n||"import React from 'react';\n\nexport default function Demo() {\n  return <div className=\"text-primary\">No components were loaded</div>;\n}",c=(0,a.useMemo)(()=>v(i),[i]),l=(0,a.useMemo)(()=>(function(e){let n={};return Object.values(e).forEach(e=>{try{let t=v(e);Object.assign(n,t)}catch(e){console.error("Error extracting dependencies from file:",e)}}),n})(m),[]),[d,u]=(0,a.useState)({}),[p,h]=(0,a.useState)(!0),[x,b]=(0,a.useState)(Date.now());if((0,a.useEffect)(()=>{h(!0),b(Date.now()),async function(){u(await f({files:{"/demo.tsx":i},theme:o})),h(!1)}()},[i,o]),p)return(0,r.jsx)(R,{text:"Preparing sandbox environment",spinnerSize:"md",className:"h-full"});let w={theme:o,template:"react-ts",files:d,customSetup:{dependencies:{...g,...l,...c}}};return(0,r.jsx)(k.l5,{...w,children:(0,r.jsx)(E,{isFullscreen:t,code:i,callbackId:s})})}let z=function(){let[e,n]=(0,a.useState)(null),[t,l]=(0,a.useState)({data1:"",data2:"",data3:""}),[d,m]=(0,a.useState)(!0),[u,p]=(0,a.useState)(null),[f,g]=(0,a.useState)(!1),[h,x]=(0,a.useState)(3);console.log("VARAINT DATA",t),(0,a.useEffect)(()=>{{let e=new URLSearchParams(window.location.search).get("id");p(e),e&&b(e)}},[]);let b=async e=>{try{let n=await w(e),t={};Object.entries(n||{}).forEach(e=>{let[n,r]=e;(null==r?void 0:r.text)&&(t[n]=(0,C.Q)(r.text))}),l(t)}catch(e){console.error("Error fetching callback data:",e)}finally{m(!1)}},v=async e=>{if(u)try{await j(u,{code:e}),g(!0);let n=setInterval(()=>{x(e=>e<=1?(clearInterval(n),window.close(),0):e-1)},1e3)}catch(e){console.error("Error sending callback:",e)}},k=t=>{n(e===t?null:t)};return f?(0,r.jsx)("div",{className:"flex items-start mt-20 justify-center ",children:(0,r.jsxs)("div",{className:"text-center space-y-2",children:[(0,r.jsx)("p",{className:"text-lg font-medium text-foreground",children:"Component selected"}),(0,r.jsxs)("p",{className:"text-sm text-muted-foreground",children:["You can return to your IDE ",(0,r.jsx)("br",{})," This page will be closed in"," ",h,"..."]})]})}):(0,r.jsxs)("div",{className:"flex-1 flex flex-col",children:[null===e&&(0,r.jsx)("h1",{className:"text-3xl font-semibold text-center mb-8",children:"Choose best variant"}),(0,r.jsx)("div",{className:"flex flex-1 w-full flex-col bg-background relative ".concat(null!==e?"overflow-hidden":""),children:(0,r.jsxs)("div",{className:"grid gap-4 p-4 md:grid-cols-3 ".concat(null!==e?"absolute inset-0 z-0":""),children:[(0,r.jsxs)("div",{className:"flex flex-col gap-4 ".concat(null!==e&&1!==e?"opacity-0 pointer-events-none":""),children:[(0,r.jsxs)(o.Zp,{className:"overflow-hidden border hover:shadow-md relative ".concat(1===e?"fixed inset-0 z-50 h-[calc(100vh-8rem)] m-4 rounded-lg border":"h-[400px]"),children:[(0,r.jsx)(s.$,{variant:"ghost",size:"icon",className:"absolute top-2 right-2 z-10",onClick:()=>k(1),children:1===e?(0,r.jsx)(i.A,{className:"h-4 w-4"}):(0,r.jsx)(c.A,{className:"h-4 w-4"})}),(0,r.jsx)(o.Wu,{className:"p-0 h-full",children:(0,r.jsx)(S,{code:t.data1,callbackId:u,isFullscreen:1===e})})]}),(0,r.jsx)(s.$,{onClick:()=>v(t.data1),className:"w-full ".concat(1===e?"fixed bottom-8 left-1/2 transform -translate-x-1/2 px-8 w-80 z-50":""),variant:"default",children:"Accept"})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-4 ".concat(null!==e&&2!==e?"opacity-0 pointer-events-none":""),children:[(0,r.jsxs)(o.Zp,{className:"overflow-hidden border hover:shadow-md relative ".concat(2===e?"fixed inset-0 z-50 h-[calc(100vh-8rem)] m-4 rounded-lg border":"h-[400px]"),children:[(0,r.jsx)(s.$,{variant:"ghost",size:"icon",className:"absolute top-2 right-2 z-10",onClick:()=>k(2),children:2===e?(0,r.jsx)(i.A,{className:"h-4 w-4"}):(0,r.jsx)(c.A,{className:"h-4 w-4"})}),(0,r.jsx)(o.Wu,{className:"p-0 h-full",children:(0,r.jsx)(S,{code:t.data2,callbackId:u,isFullscreen:2===e})})]}),(0,r.jsx)(s.$,{onClick:()=>v(t.data2),className:"w-full ".concat(2===e?"fixed bottom-8 left-1/2 transform -translate-x-1/2 px-8 w-80 z-50":""),children:"Accept"})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-4 ".concat(null!==e&&3!==e?"opacity-0 pointer-events-none":""),children:[(0,r.jsxs)(o.Zp,{className:"overflow-hidden border hover:shadow-md relative ".concat(3===e?"fixed inset-0 z-50 h-[calc(100vh-8rem)] m-4 rounded-lg border":"h-[400px]"),children:[(0,r.jsx)(s.$,{variant:"ghost",size:"icon",className:"absolute top-2 right-2 z-10",onClick:()=>k(3),children:3===e?(0,r.jsx)(i.A,{className:"h-4 w-4"}):(0,r.jsx)(c.A,{className:"h-4 w-4"})}),(0,r.jsx)(o.Wu,{className:"p-0 h-full",children:(0,r.jsx)(S,{code:t.data3,callbackId:u,isFullscreen:3===e})})]}),(0,r.jsx)(s.$,{onClick:()=>v(t.data3),className:"w-full ".concat(3===e?"fixed bottom-8 left-1/2 transform -translate-x-1/2 px-8 w-80 z-50":""),children:"Accept"})]})]})})]})}},29602:(e,n,t)=>{"use strict";t.d(n,{Q:()=>o,cn:()=>s});var r=t(43463),a=t(69795);function s(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];return(0,a.QP)((0,r.$)(n))}function o(e){return e?e.replace(/```tsx\n|```\n|```/g,""):""}}}]);