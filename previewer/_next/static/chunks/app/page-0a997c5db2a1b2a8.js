(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{3048:(e,t,r)=>{Promise.resolve().then(r.bind(r,3713))},3713:(e,t,r)=>{"use strict";r.d(t,{default:()=>ed});var s=r(5155);let a=async e=>{try{let t=await fetch("/callback/".concat(e),{method:"GET",headers:{"Content-Type":"application/json"}});if(!t.ok)throw Error("HTTP error! status: ".concat(t.status));return(await t.json()).data}catch(e){throw console.error("Error fetching callback data:",e),e}},n=async(e,t)=>{try{let r=await fetch("/callback/".concat(e),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok)throw Error("HTTP error! status: ".concat(r.status));return await r.json()}catch(e){throw console.error("Error posting callback:",e),e}},l=async e=>{try{let t=await fetch("/host-component",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:e})});if(!t.ok){let e=await t.json();throw Error(e.message||"HTTP error! status: ".concat(t.status))}return(await t.json()).data.url}catch(e){throw console.error("Error hosting component:",e),e}};var o=r(2596),i=r(9688);function d(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,i.QP)((0,o.$)(t))}var c=r(2115),u=r(6671),m=r(6874),h=r.n(m),f=r(2098),x=r(3509),p=r(1362),g=r(9708);let b=(0,r(2085).F)("inline-flex items-center justify-center whitespace-nowrap rounded-lg text-sm font-medium transition-colors outline-offset-2 focus-visible:outline focus-visible:outline-2 focus-visible:outline-ring/70 disabled:opacity-50 disabled:pointer-events-none disabled:border-primary/75 disabled:shadow-[inset_0_0.5px_0.5px_rgba(255,255,255,0.15)] [&_svg]:pointer-events-none [&_svg]:shrink-0",{variants:{variant:{default:"relative cursor-pointer space-x-2 font-regular ease-out duration-200 outline-0 focus-visible:outline-4 focus-visible:outline-offset-1 border bg-gradient-to-b from-[hsl(var(--primary-gradient-start))] to-[hsl(var(--primary-gradient-end))] hover:opacity-90 text-primary-foreground dark:text-foreground border-[hsl(var(--primary-gradient-start))] focus-visible:outline-[hsl(var(--primary-gradient-start))] data-[state=open]:opacity-90 data-[state=open]:outline-[hsl(var(--primary-gradient-start))]",destructive:"bg-destructive text-destructive-foreground shadow-sm shadow-black/5 hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm shadow-black/5 hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm shadow-black/5 hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{sm:"h-8 rounded-lg px-3",default:"h-8 rounded-lg px-3",lg:"h-10 rounded-lg px-8",icon:"h-8 w-8"}},defaultVariants:{variant:"default",size:"default"}}),j=c.forwardRef((e,t)=>{let{className:r,variant:a,size:n,asChild:l=!1,...o}=e,i=l?g.DX:"button";return(0,s.jsx)(i,{className:d(b({variant:a,size:n,className:r})),ref:t,...o})});j.displayName="Button";var v=r(7619);function w(e){let{fill:t="currentColor",className:r=""}=e,a=(0,s.jsxs)("svg",{width:24,height:24,viewBox:"0 0 60 60",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("path",{d:"M0 20C0 8.95431 8.95431 0 20 0C31.0457 0 40 8.95431 40 20C40 31.0457 31.5 35.5 20 40H40C40 51.0457 31.0457 60 20 60C8.95431 60 0 51.0457 0 40C0 28.9543 9.5 22 20 20H0Z",fill:t}),(0,s.jsx)("path",{d:"M40 60C51.7324 55.0977 60 43.5117 60 30C60 16.4883 51.7324 4.90234 40 0V60Z",fill:t})]});return(0,s.jsx)("a",{href:"https://21st.dev",target:"_blank",className:d("w-5 h-5 flex items-center justify-center rounded-full",r),children:a})}let N=()=>(0,s.jsx)("svg",{"data-testid":"geist-icon",height:"16",strokeLinejoin:"round",viewBox:"0 0 16 16",width:"16",className:"h-2.5 w-2.5",children:(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.5 3V2.25H15V3V10C15 10.5523 14.5523 11 14 11H3.56068L5.53035 12.9697L6.06068 13.5L5.00002 14.5607L4.46969 14.0303L1.39647 10.9571C1.00595 10.5666 1.00595 9.93342 1.39647 9.54289L4.46969 6.46967L5.00002 5.93934L6.06068 7L5.53035 7.53033L3.56068 9.5H13.5V3Z",fill:"currentColor"})});function y(e){let{focusedVariant:t,onAccept:r,fullscreenVariant:a}=e,{resolvedTheme:n,setTheme:l}=(0,p.D)(),[o,i]=(0,c.useState)(!1);(0,c.useEffect)(()=>{i(!0)},[]);let u=o?n:"light",m=null!=a?a:t;return(0,s.jsx)("header",{className:d("border-b border-border/40 z-50 relative bg-background"),children:(0,s.jsx)("div",{className:"container mx-auto px-[var(--container-x-padding)] max-w-[3680px] [--container-x-padding:20px] min-720:[--container-x-padding:24px] min-1280:[--container-x-padding:32px] min-1536:[--container-x-padding:80px]",children:(0,s.jsxs)("div",{className:"flex h-14 items-center justify-between py-0",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,s.jsx)(w,{}),(0,s.jsx)("span",{className:"text-muted-foreground",children:"/"}),(0,s.jsx)("span",{className:"font-medium",children:"Magic"}),(0,s.jsx)("span",{className:"text-muted-foreground",children:"/"}),(0,s.jsxs)("span",{className:"text-muted-foreground",children:["Component generations",null!=a&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:" / "}),(0,s.jsxs)("span",{className:"text-muted-foreground",children:["Variant ",a]})]})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)("fieldset",{className:"flex items-center rounded-full border border-border/40 bg-background",children:[(0,s.jsx)("legend",{className:"sr-only",children:"Select a display theme:"}),(0,s.jsxs)("span",{children:[(0,s.jsx)("input",{type:"radio",id:"theme-switch-light",value:"light",name:"theme",className:"sr-only peer",checked:"light"===u,onChange:()=>l("light")}),(0,s.jsxs)("label",{htmlFor:"theme-switch-light",className:"inline-flex items-center justify-center rounded-full p-1.5 text-sm cursor-pointer text-muted-foreground hover:text-foreground peer-checked:bg-accent peer-checked:text-foreground",children:[(0,s.jsx)("span",{className:"sr-only",children:"light"}),(0,s.jsx)(f.A,{className:"h-4 w-4"})]})]}),(0,s.jsxs)("span",{children:[(0,s.jsx)("input",{type:"radio",id:"theme-switch-dark",value:"dark",name:"theme",className:"sr-only peer",checked:"dark"===u,onChange:()=>l("dark")}),(0,s.jsxs)("label",{htmlFor:"theme-switch-dark",className:"inline-flex items-center justify-center rounded-full p-1.5 text-sm cursor-pointer text-muted-foreground hover:text-foreground peer-checked:bg-accent peer-checked:text-foreground",children:[(0,s.jsx)("span",{className:"sr-only",children:"dark"}),(0,s.jsx)(x.A,{className:"h-4 w-4"})]})]})]}),(0,s.jsx)(h(),{href:"https://discord.gg/Qx4rFunHfm",target:"_blank",children:(0,s.jsx)(j,{variant:"outline",children:"Report a bug"})}),(0,s.jsxs)(j,{onClick:r,className:"gap-1 justify-between pr-1.5",children:[(0,s.jsxs)("span",{className:"flex items-center gap-1",children:["Accept Variant",(0,s.jsx)(v.Ay,{value:m,className:"min-w-[10px] flex items-center justify-start"})]}),(0,s.jsx)("kbd",{className:"pointer-events-none h-5 select-none items-center gap-1 rounded border border-white/20 bg-white/10 px-1.5 font-sans text-[11px] leading-none opacity-100 flex",children:(0,s.jsx)(N,{})})]})]})]})})})}var k=r(4024),C=r(3096);let z=k.bL,S=k.l9;k.YJ,k.ZL,k.Pb,k.z6,c.forwardRef((e,t)=>{let{className:r,inset:a,children:n,...l}=e;return(0,s.jsxs)(k.ZP,{ref:t,className:d("flex cursor-default select-none items-center gap-2 rounded-md px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",a&&"pl-8",r),...l,children:[n,(0,s.jsx)(C.vKP,{className:"ml-auto text-muted-foreground/80"})]})}).displayName=k.ZP.displayName,c.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(k.G5,{ref:t,className:d("z-50 min-w-40 overflow-hidden rounded-md border border-border bg-popover p-1 text-popover-foreground shadow-lg shadow-black/5 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r),...a})}).displayName=k.G5.displayName;let _=c.forwardRef((e,t)=>{let{className:r,sideOffset:a=4,onPointerDown:n,onPointerDownOutside:l,onCloseAutoFocus:o,...i}=e,u=c.useRef(!1),m=c.useCallback(e=>{u.current=!0,null==n||n(e)},[n]),h=c.useCallback(e=>{u.current=!0,null==l||l(e)},[l]),f=c.useCallback(e=>{if(o)return o(e);u.current&&(e.preventDefault(),u.current=!1)},[o]);return(0,s.jsx)(k.ZL,{children:(0,s.jsx)(k.UC,{ref:t,sideOffset:a,className:d("z-50 min-w-40 overflow-hidden rounded-lg border border-border bg-popover p-1 text-popover-foreground shadow-lg shadow-black/5 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r),onPointerDown:m,onPointerDownOutside:h,onCloseAutoFocus:f,...i})})});_.displayName=k.UC.displayName;let E=c.forwardRef((e,t)=>{let{className:r,inset:a,...n}=e;return(0,s.jsx)(k.q7,{ref:t,className:d("relative flex cursor-default select-none items-center gap-2 rounded-md px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0",a&&"pl-8",r),...n})});E.displayName=k.q7.displayName,c.forwardRef((e,t)=>{let{className:r,children:a,checked:n,...l}=e;return(0,s.jsxs)(k.H_,{ref:t,className:d("relative flex cursor-default select-none items-center rounded-md py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),checked:n,...l,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(k.VF,{children:(0,s.jsx)(C.Srz,{className:"h-4 w-4"})})}),a]})}).displayName=k.H_.displayName,c.forwardRef((e,t)=>{let{className:r,children:a,...n}=e;return(0,s.jsxs)(k.hN,{ref:t,className:d("relative flex cursor-default select-none items-center rounded-md py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),...n,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(k.VF,{children:(0,s.jsx)(C.RiX,{className:"h-2 w-2 fill-current"})})}),a]})}).displayName=k.hN.displayName;let T=c.forwardRef((e,t)=>{let{className:r,inset:a,...n}=e;return(0,s.jsx)(k.JU,{ref:t,className:d("px-2 py-1.5 text-xs font-medium text-muted-foreground",a&&"pl-8",r),...n})});T.displayName=k.JU.displayName;let R=c.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(k.wv,{ref:t,className:d("-mx-1 my-1 h-px bg-border",r),...a})});R.displayName=k.wv.displayName;var F=r(4870),P=r(5560),A=r(8313),L=r(1586),D=r(4788);function V(e){let{children:t,className:r}=e;return(0,s.jsx)("kbd",{className:d("px-1 py-0.5 min-w-[22px] flex items-center justify-center text-xs text-foreground bg-muted rounded border shadow-sm",r),children:t})}function O(e){let{label:t,shortcut:r}=e;return(0,s.jsxs)("div",{className:"flex items-center justify-between px-2 py-1 text-sm text-muted-foreground",children:[(0,s.jsx)("span",{children:t}),(0,s.jsx)("div",{className:"flex gap-1",children:r})]})}function H(e){let{href:t,icon:r,children:a}=e;return(0,s.jsx)(E,{asChild:!0,children:(0,s.jsxs)(h(),{href:t,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-between group",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(r,{className:"h-4 w-4"}),a]}),(0,s.jsx)(F.A,{className:"h-4 w-4 opacity-50 transition-transform group-hover:translate-x-0.5 group-hover:-translate-y-0.5"})]})})}function K(){return(0,s.jsxs)("div",{className:"py-2",children:[(0,s.jsx)(T,{children:"Keyboard Shortcuts"}),(0,s.jsxs)("div",{className:"mb-2",children:[(0,s.jsx)(O,{label:"Toggle fullscreen",shortcut:(0,s.jsx)(V,{children:"F"})}),(0,s.jsx)(O,{label:"Toggle code view",shortcut:(0,s.jsx)(V,{children:"C"})}),(0,s.jsx)(O,{label:"Copy code",shortcut:(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(V,{children:"⌘ C"})})}),(0,s.jsx)(O,{label:"Focus variant",shortcut:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(V,{children:"1"}),(0,s.jsx)(V,{children:"2"}),(0,s.jsx)(V,{children:"3"})]})}),(0,s.jsx)(O,{label:"Move focus",shortcut:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(V,{children:"Tab"}),(0,s.jsx)(V,{children:"←"}),(0,s.jsx)(V,{children:"→"})]})}),(0,s.jsx)(O,{label:"Select focused",shortcut:(0,s.jsx)(V,{children:"Enter"})}),(0,s.jsx)(O,{label:"Show help",shortcut:(0,s.jsx)(V,{children:"?"})})]}),(0,s.jsx)(R,{}),(0,s.jsx)(T,{children:"Actions"}),(0,s.jsx)(H,{href:"https://discord.gg/Qx4rFunHfm",icon:P.A,children:"Get Help"}),(0,s.jsx)(H,{href:"https://21st.dev/magic/console",icon:A.A,children:"Troubleshooting"}),(0,s.jsx)(H,{href:"https://21st.dev/settings/billing",icon:L.A,children:"Manage Subscription"})]})}function M(e){let{open:t,onOpenChange:r}=e;return(0,s.jsx)("div",{className:"fixed bottom-4 left-4 z-[100]",children:(0,s.jsxs)(z,{open:t,onOpenChange:r,children:[(0,s.jsx)(S,{asChild:!0,children:(0,s.jsx)(j,{variant:"outline",size:"icon",className:"rounded-full h-10 w-10 shadow-md hover:shadow-lg transition-shadow",children:(0,s.jsx)(D.A,{className:"h-5 w-5"})})}),(0,s.jsx)(_,{side:"top",align:"start",className:"w-80",sideOffset:24,children:(0,s.jsx)(K,{})})]})})}function I(){return(0,s.jsx)("div",{className:"flex items-center justify-center h-screen",children:(0,s.jsxs)("div",{className:"animate-pulse flex flex-col items-center",children:[(0,s.jsx)("div",{className:"h-8 w-32 bg-muted rounded mb-4"}),(0,s.jsx)("div",{className:"h-4 w-48 bg-muted rounded"})]})})}function Z(e){let{countdown:t}=e;return(0,s.jsx)("div",{className:"flex items-start mt-20 justify-center",children:(0,s.jsxs)("div",{className:"text-center space-y-2",children:[(0,s.jsx)("p",{className:"font-medium text-foreground",children:"Component selected"}),(0,s.jsxs)("p",{className:"text-muted-foreground",children:["You can return to your IDE ",(0,s.jsx)("br",{})," This page will be closed in"," ",t,"..."]})]})})}function U(e){let{isLoading:t,isSelected:r,countdown:a}=e;return t?(0,s.jsx)(I,{}):r?(0,s.jsx)(Z,{countdown:a}):null}let W=c.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:d("rounded-lg border bg-card text-card-foreground shadow-sm",r),...a})});W.displayName="Card",c.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:d("flex flex-col space-y-1.5 p-6",r),...a})}).displayName="CardHeader",c.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:d("text-2xl font-semibold leading-none tracking-tight",r),...a})}).displayName="CardTitle",c.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:d("text-sm text-muted-foreground",r),...a})}).displayName="CardDescription";let J=c.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:d("p-6 pt-0",r),...a})});J.displayName="CardContent",c.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:d("flex items-center p-6 pt-0",r),...a})}).displayName="CardFooter";var B=r(4357),G=r(2657),Q=r(9621),q=r(4311),X=r(1981),Y=r(5776),$=r(760),ee=r(2673);let et=e=>{let{size:t="md",className:r}=e;return(0,s.jsx)("div",{className:"flex items-center justify-center",children:(0,s.jsx)("div",{className:d("animate-spin rounded-full border-t-transparent",{sm:"h-4 w-4 border-2",md:"h-8 w-8 border-3",lg:"h-12 w-12 border-4"}[t],"border-primary",r)})})},er=e=>{let{text:t,spinnerSize:r="md",className:a,fullscreen:n=!1}=e;return(0,s.jsxs)("div",{className:d("flex flex-col items-center justify-center gap-3",n&&"fixed inset-0 z-50 bg-background/80 backdrop-blur-sm",a),children:[(0,s.jsx)(et,{size:r}),t&&(0,s.jsx)("p",{className:"text-sm text-muted-foreground animate-pulse",children:t})]})};function es(e){let{code:t,callbackId:r,viewMode:a="preview"}=e,{resolvedTheme:n}=(0,p.D)(),[o,i]=(0,c.useState)(!1),[d,u]=(0,c.useState)(),[m,h]=(0,c.useState)(t),[f,x]=(0,c.useState)(!0),[g,b]=(0,c.useState)(!1),j=e=>{let t=new URL(e);return t.searchParams.set("theme",null!=n?n:""),t.toString()};return((0,c.useEffect)(()=>{m&&(async()=>{x(!0);try{let e=await l(m);u(j(e))}catch(e){console.error("Error hosting component:",e)}finally{x(!1)}})()},[m]),(0,c.useEffect)(()=>{d&&u(j(d))},[n]),(0,c.useEffect)(()=>{b(!1)},[d]),o)?(0,s.jsx)(er,{text:"Fixing code",spinnerSize:"md",className:"h-full"}):!f&&m&&d?(0,s.jsx)(s.Fragment,{children:"preview"===a?(0,s.jsxs)(s.Fragment,{children:[!g&&(0,s.jsx)(er,{text:"Loading preview",spinnerSize:"md",className:"h-full"}),(0,s.jsx)("iframe",{src:null!=d?d:"",className:"h-full w-full",onLoad:()=>b(!0),style:{display:g?"block":"none"}},d)]}):(0,s.jsx)(Y.l5,{theme:n,files:{"/demo.tsx":m||""},options:{activeFile:"/demo.tsx"},children:(0,s.jsx)("div",{className:"relative h-full",children:(0,s.jsx)($.N,{children:(0,s.jsx)(ee.P.div,{className:"absolute inset-0 bg-background",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},children:(0,s.jsx)(Y.cW,{showTabs:!1,showLineNumbers:!1,showInlineErrors:!0,readOnly:!0,showRunButton:!1,showReadOnly:!1})})})})})}):(0,s.jsx)(er,{text:"Preparing sandbox environment",spinnerSize:"md",className:"h-full"})}var ea=r(6767),en=r(2280),el=r(4738);function eo(e){let{previewSize:t,onChangePreviewSize:r}=e;return(0,s.jsxs)("div",{className:"flex bg-muted rounded-lg p-0.5",children:["desktop"!==t&&(0,s.jsx)("div",{className:"absolute -left-24 top-0 bg-background/80 backdrop-blur-sm px-2 py-1 rounded-md shadow-sm border text-xs font-medium",children:"mobile"===t?"375px":"768px"}),(0,s.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,s.jsx)(j,{variant:"ghost",size:"sm",className:d("h-7 w-7 rounded-md transition-colors hover:bg-background/70 hover:text-foreground","mobile"===t&&"bg-background text-foreground"),onClick:e=>{e.stopPropagation(),r("mobile")},children:(0,s.jsx)(ea.A,{className:"h-4 w-4"})}),(0,s.jsx)(j,{variant:"ghost",size:"sm",className:d("h-7 w-7 rounded-md transition-colors hover:bg-background/70 hover:text-foreground","tablet"===t&&"bg-background text-foreground"),onClick:e=>{e.stopPropagation(),r("tablet")},children:(0,s.jsx)(en.A,{className:"h-4 w-4"})}),(0,s.jsx)(j,{variant:"ghost",size:"sm",className:d("h-7 w-7 rounded-md transition-colors hover:bg-background/70 hover:text-foreground","desktop"===t&&"bg-background text-foreground"),onClick:e=>{e.stopPropagation(),r("desktop")},children:(0,s.jsx)(el.A,{className:"h-4 w-4"})})]})]})}function ei(e){let{index:t,code:r,callbackId:a,isFocused:n,isFullscreen:l,viewMode:o,previewSize:i,onFocus:c,onToggleFullscreen:m,onToggleViewMode:h,onChangePreviewSize:f}=e,x=(()=>{switch(i){case"mobile":return{width:"375px",maxWidth:"100%"};case"tablet":return{width:"768px",maxWidth:"100%"};default:return{width:"100%",maxWidth:"100%"}}})(),p=l===t;return(0,s.jsx)("div",{className:d("flex flex-col h-full",l!==t&&null!==l&&"opacity-0 pointer-events-none"),children:(0,s.jsxs)(W,{className:d("flex-1 border overflow-hidden",n&&!p?"ring-2 ring-primary":"","relative",p?"fixed left-4 right-4 bottom-4 top-[72px] z-50 rounded-lg border":"min-h-[500px]","[transition:transform_700ms_cubic-bezier(0.32,0.72,0,1),width_700ms_cubic-bezier(0.32,0.72,0,1),left_700ms_cubic-bezier(0.32,0.72,0,1),right_700ms_cubic-bezier(0.32,0.72,0,1)]"),onClick:()=>c(t),children:[(0,s.jsx)("div",{className:"absolute top-2 left-2 z-10",children:(0,s.jsxs)("div",{className:"flex items-center justify-center px-2.5 h-6 rounded-sm bg-primary/10 text-primary font-medium text-sm",children:["Variant ",t]})}),(0,s.jsxs)("div",{className:"absolute top-2 right-2 z-10 flex gap-2",children:[p&&"code"!==o&&(0,s.jsx)(eo,{previewSize:i,onChangePreviewSize:f}),"code"===o&&r&&(0,s.jsx)(j,{variant:"outline",size:"icon",onClick:e=>{e.stopPropagation(),navigator.clipboard.writeText(r),u.o.success("Code copied from Variant ".concat(t))},children:(0,s.jsx)(B.A,{className:"h-4 w-4"})}),(0,s.jsx)(j,{variant:"outline",size:"icon",onClick:e=>{e.stopPropagation(),h()},children:"code"===o?(0,s.jsx)(G.A,{className:"h-4 w-4"}):(0,s.jsx)(Q.A,{className:"h-4 w-4"})}),(0,s.jsx)(j,{variant:"outline",size:"icon",onClick:e=>{e.stopPropagation(),m(t)},children:p?(0,s.jsx)(q.A,{className:"h-4 w-4"}):(0,s.jsx)(X.A,{className:"h-4 w-4"})})]}),(0,s.jsx)(J,{className:"p-0 h-full",children:(0,s.jsx)("div",{className:d("h-full flex items-center justify-center","transition-all duration-500 ease-in-out",p&&"preview"===o&&"desktop"!==i?"bg-muted/30 overflow-auto p-4":"p-0"),children:(0,s.jsx)("div",{className:d("h-full bg-background transition-all duration-500 pt-12",p&&"preview"===o&&"desktop"!==i?"":"w-full"),style:{...p&&"preview"===o&&{width:"desktop"!==i?x.width:"100%",maxWidth:x.maxWidth,transformOrigin:"center",transition:"width 700ms cubic-bezier(0.32,0.72,0,1), transform 700ms cubic-bezier(0.32,0.72,0,1)"}},children:(0,s.jsx)(es,{code:r,callbackId:a,isFullscreen:p,viewMode:o})})})})]})})}let ed=function(){let[e,t]=(0,c.useState)(null),[r,l]=(0,c.useState)(1),[o,i]=(0,c.useState)("preview"),[m,h]=(0,c.useState)(!1),[f,x]=(0,c.useState)({data1:"",data2:"",data3:""}),[p,g]=(0,c.useState)(!0),[b,j]=(0,c.useState)(null),[v,w]=(0,c.useState)(!1),[N,k]=(0,c.useState)(3),[C,z]=(0,c.useState)("desktop"),[S,_]=(0,c.useState)(!1);(0,c.useEffect)(()=>{{let e=new URLSearchParams(window.location.search).get("id");j(e),e&&E(e)}},[]),(0,c.useEffect)(()=>{let s=s=>{if((s.metaKey||s.ctrlKey)&&"KeyC"===s.code){let e=f["data".concat(r)];e&&(s.preventDefault(),navigator.clipboard.writeText(e),u.o.success("Code copied from Variant ".concat(r)));return}if(!s.metaKey&&!s.ctrlKey&&!s.altKey){if("Slash"===s.code||"IntlRo"===s.code){s.preventDefault(),h(e=>!e);return}if("Escape"===s.code){if(null!==e){t(null),z("desktop");return}if(m)return void h(!1)}if(!m){if(["Digit1","Digit2","Digit3","Numpad1","Numpad2","Numpad3"].includes(s.code)){let t=parseInt(s.code.replace("Digit","").replace("Numpad",""));null!==e?1===t?z("mobile"):2===t?z("tablet"):3===t&&z("desktop"):l(t);return}if("Enter"===s.code||"NumpadEnter"===s.code){s.preventDefault(),T(f["data".concat(r)]);return}if("Tab"===s.code){s.preventDefault();let a=3===r?1:r+1;l(a),null!==e&&t(a);return}if("KeyF"===s.code){s.preventDefault(),R(r);return}if("KeyC"===s.code){s.preventDefault(),i(e=>"code"===e?"preview":"code");return}if("ArrowRight"===s.code){s.preventDefault();let a=3===r?1:r+1;l(a),null!==e&&t(a);return}if("ArrowLeft"===s.code){s.preventDefault();let a=1===r?3:r-1;l(a),null!==e&&t(a);return}}}};return window.addEventListener("keydown",s),()=>window.removeEventListener("keydown",s)},[r,e,f,m,o]);let E=async e=>{try{let t=await a(e),r={};Object.entries(t||{}).forEach(e=>{var t;let[s,a]=e;(null==a?void 0:a.text)&&(r[s]=(t=a.text)?t.replace(/```tsx\n|```\n|```/g,""):"")}),x(r)}catch(e){console.error("Error fetching callback data:",e)}finally{g(!1)}},T=async e=>{if(b)try{await n(b,{code:e}),w(!0);let t=setInterval(()=>{k(e=>e<=1?(clearInterval(t),window.close(),0):e-1)},1e3)}catch(e){console.error("Error sending callback:",e)}},R=r=>{e===r?(t(null),z("desktop")):(_(!0),t(r),setTimeout(()=>{_(!1)},300))},F=()=>{i(e=>"code"===e?"preview":"code")},P=(0,s.jsx)(U,{isLoading:p,isSelected:v,countdown:N});return p||v?P:(0,s.jsxs)("div",{className:"flex flex-col h-full",children:[(0,s.jsx)(y,{focusedVariant:r,fullscreenVariant:e,onAccept:()=>{T(f["data".concat(r)])}}),(0,s.jsx)("div",{className:"flex-1 flex flex-col bg-background relative p-4",children:(0,s.jsx)("div",{className:d("flex flex-1 h-full relative",null===e&&"gap-6"),children:[1,2,3].map(t=>{let a="data".concat(t);return(0,s.jsx)("div",{className:d("transition-all duration-700 ease-in-out",null===e?"flex-1 w-full md:w-1/3":e===t?d("flex-1 w-full",1===t&&"animate-scale-up-left",2===t&&"animate-scale-up-center",3===t&&"animate-scale-up-right"):"w-0"),children:(0,s.jsx)(ei,{index:t,code:f[a],callbackId:b,isFocused:r===t,isFullscreen:e,viewMode:o,previewSize:C,onFocus:l,onToggleFullscreen:R,onToggleViewMode:F,onChangePreviewSize:z})},t)})})}),(0,s.jsx)(M,{open:m,onOpenChange:h})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[193,79,105,486,637,441,684,358],()=>t(3048)),_N_E=e.O()}]);